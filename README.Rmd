---
output: github_document
---
# poldis <img src="man/figures/poldishexlogo.png" align="right" width="220"/>

<!-- badges: start -->
[![lifecycle](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
![GitHub release (latest by date)](https://img.shields.io/github/v/release/henriquesposito/poldis)
![GitHub issues](https://img.shields.io/github/issues-raw/henriquesposito/poldis)
![GitHub Release Date](https://img.shields.io/github/release-date/henriquesposito/poldis)
[![Codecov test coverage](https://codecov.io/gh/henriquesposito/poldis/branch/master/graph/badge.svg)](https://app.codecov.io/gh/henriquesposito/poldis?branch=master)
[![CodeFactor](https://www.codefactor.io/repository/github/henriquesposito/poldis/badge)](https://www.codefactor.io/repository/github/henriquesposito/poldis)
<!-- badges: end -->

`{poldis}`: an R package that provides tools for analyzing political discourses over time!

# Why {`poldis`}?

Political discourse data come in many different forms,
ranging from single-speaker speeches to debates.
While other R packages allow us to analyse data from single-speaker speeches easily,
this only reveals a portion of the what, how, and where politics "gets done".
For most other settings where political discourse appears as debates,
interviews, news conferences, or campaign rallies,
working with text programmatically becomes tricky
where there may be multiple speakers, questions, languages,
and other types of "noise" in text data.
For example, text might need to be separated by speakers,
have questions removed for analysis,
or retain only the context around specific topics and keywords.
`{poldis}` provides the tools necessary to work with these different types of texts,
making it easier to analyse political discourses.

Specifically, `{poldis}` introduces tools for Urgency Analysis (UA),
a new method for the analysis of urgency in political texts.
Urgency is an expression of how critical or immediate problems or solutions are in political discourse.
UA rests upon a multidimensional, weighted, and survey-validated conception of how urgency can be expressed in political discourses. It combines Natural Language Processes (NLP) and dictionary approaches to provide a contextualized, comparable, and scalable new method for the analysis of political texts.

# Installing the package

To download the latest version of ´{poldis}´ from GitHub and use it locally:

``` {r download, eval= FALSE}
# install.packages("remotes")
remotes::install_github("henriquesposito/poldis")
library(poldis)
```

```{r, include=FALSE}
library(poldis)
```

# Gettting started

`{poldis}` contains several text tools for wrangling texts.
For example, users can extract the context surrounding a specific string in the text.

```{r context}
set.seed(1234)
text <- sample(US_News_Conferences_1960_1980$text, 2, replace = TRUE)
extract_context(" war ", text, level = "sentences", n = 1)
```

Other text functions in the 'extract' family of functions include
`extract_speaker()`, to extract speakers from the text,
and `extract_similarities()`, to compare similarities across texts.

# Annotating text

We rely on the [spacy(r)](https://spacy.io/universe/project/spacyr) NLP algorithm to annotate texts.
With `annotate_text()`, text annotations are offered at the word (token) and sentence levels.
The annotated syntax metadata helps to code words or sentences (e.g. code adverbs or adjectives where/when present) and avoid false positive matches.

```{r, eval=FALSE}
annotate_text(text, level = "words")
annotate_text(text, level = "sentences")
```

# Selecting political promises

`select_promises()` allows political promises (i.e. statements in which actors express their intent or commitment to take political action in the future) to be extracted once texts have been annotated.
Promises are captured by identifying sentences containing modal verbs (e.g. must) and other indications of future-oriented sentences with our custom-built dictionaries (e.g. need to, going to).

```{r promises, eval= FALSE}
select_promises(text)
```

# Gathering topics

We automate topic generation for promises by constructing a custom-built dictionary of terms for capturing 20 major political topics based on the [Comparative Agendas Projects](https://www.comparativeagendas.net/) (Jones et al., 2023).
Topics are assigned when words related to subjects appear in texts.
Alternatively, users can also declare their own dictionary for topics.

```{r topics}
gather_topics(text)
```

# Getting urgency

Urgency is an expression of how necessary and/or how soon a political action should be undertaken.
We code four dimensions of urgency in political discourses using purpose-built dictionaries of terms:
frequency, timing, intensity, and commitment.
Frequency refers to how often an issue or action occurs in the text (e.g. we must act constantly vs. sometimes we must act), while timing refers to the time point or period indicated in the text (e.g. we must act now vs. we must act in the future). The degree of intensity refers to the level at which a political action is critical (e.g. extremely important vs. rather important), while the degree of commitment level refers to the value of the action for the speaker (e.g. we should act vs. we must act).
Scores are normalized by the number of words in the dictionary for the dimensions and the number of words in the text promise they appear in by default, but users can also choose different ways to (or not) normalize scores.

```{r urgency}
get_urgency(text)
```

# Using `{poldis}` beyond poltitical texts

Although the functions developed in the package consider the theoretical implications of working with political texts, they prioritize flexibility and accessibility. This means users can select promises, gather topics, and/or measure urgency for various other types of texts if they choose to do so.

# Contributing

If you are interested in `{poldis}`, please do not hesitate to contribute to the package by opening [issues](https://github.com/henriquesposito/poldis/issues), asking [questions](https://github.com/henriquesposito/poldis/discussions), or propose [changes](https://github.com/henriquesposito/poldis/pulls). 

# Citing

Lastly, if you are using ´{poldis}´, please do not forget to cite us ;)

``` {r cites}
citation("poldis")
```
